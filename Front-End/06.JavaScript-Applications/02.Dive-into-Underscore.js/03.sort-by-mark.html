<!DOCTYPE html>
<html>

<head>
    <title>Dive into Underscore.js</title>
    <script src="scripts/underscore.js"></script>
</head>

<body>
    <script>
        /**
         * Write a function that by a given array of students finds the student with highest marks.
         */
        (function () {
            'use strict';

            var Student = (function () {
                function Student(fname, lname, mark) {
                    this.fname = fname;
                    this.lname = lname;
                    this.mark = mark;
                };
                Student.prototype.toString = function () {
                    return this.fname + ' ' + this.lname + ' ' + this.mark;
                }
                return Student;
            })();

            var students = [
                new Student('Doncho', 'Minkov', 75),
                new Student('Nikolay', 'Kostov', 90),
                new Student('Aneliya', 'Stoyanova', 85),
                new Student('Ivaylo', 'Kenov', 80),
                new Student('Todor', 'Stoyanov', 99),
            ];

            //var topStudent = _.chain(students).sortBy('mark').last().value();
            var topStudent = _.sortBy(students, 'mark').pop();

            console.log('The student with the highest mark: ' + topStudent.toString());
        }());
    </script>
</body>

</html>
