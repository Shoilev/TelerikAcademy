<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>ListView plugin</title>
    <script src='scripts\handlebars-v1.3.0.js'></script>
    <script src='scripts\jquery-1.11.1.min.js'></script>    
</head>

<body>    
    <ul id="books-list" data-template="book-item-template"></ul>
    
    <script id="book-item-template" type="text/x-handlebars-template">
      <li class="book-item">
        <a href="/#books/{{id}}">
          <strong>{{title}}</strong>
        </a>
      </li>	
    </script>

    <script>
        (function () {
            
            var books = [{
                title: 'Javascript: The Good Parts'
            }, {
                title: 'Secrets of the Javascript Ninja'
            }, {
                title: 'Core HTML5 Canvas'
            }, {
                title: 'Javascript Patterns'
            }];
            
            (function ($) {
                $.fn.listview = function (data) {
                    $list = $(this);
                    var templateID = $list.attr('data-template');
                    
                    var source = $('#' + templateID).html();
                    
                    source = '{{#collection}}' + source + '{{/collection}}';
                    
                    var template = Handlebars.compile(source);
                    $list.html(template({collection: data}));

                    return $list;
                }
            }(jQuery));
            
            $('#books-list').listview(books);
            
        })();
    </script>
</body>

</html>